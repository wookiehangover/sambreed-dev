---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../config';

const posts = (await Astro.glob('./writing/*.{md,mdx}')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
).slice(0,4);
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <Header title={SITE_TITLE} />
    <main>
      <p>
        Hello üëã
      </p>

      <p>
        I'm <a rel="me" href="https://mastodon.social/@sambreed" title="Follow me on Mastodon!">Sam Breed</a> and this is my modest personal website.
      </p>

      <p>
        I am a developer, designer, and investor who helps make websites faster, products better, and teams smarter.
      </p>

      <p>When I'm not doing that, you can usually find me trail running somewhere around <a href="https://alertca.live/cam-console/2192" title="Mt Tam Trail Camera">Mt Tam</a>. I also collect records, enjoy riding motorcycles, and I like building things in my shop.</p>

      <section>
        <h2>Writing</h2>
        <ul style={{ listStyleType: 'circle' }}>
          {posts.map((post) => (
            <li>
              <a href={post.url}>{post.frontmatter.title}</a>
            </li>
          ))}
          <li><a href="/writing">more...</a></li>
        </ul>
      </section>

      <section>
        <h2>Ephemera</h2>
        <ul>
          <li>
            <a href="/cv.html">Peruse my C.V.</a>
          </li>
          <li>
            social platforms:
            <ul>
              <li>
                <a href="https://mastodon.social/@sambreed">mastodon</a>
              </li>
              <li>
                <a href="https://hellsite.sambreed.dev">twitter archive</a>
              </li>
              <li>
                <a href="https://instagram.com/wookiehangover">instagram</a>
              </li>
              <li>
                <a href="https://www.strava.com/athletes/3256286">strava</a>
              </li>
              <li>
                <a href="https://github.com/wookiehangover?tab=repositories">github</a>
              </li>
            </ul>
          </li>
          <li>
            side projects:
            <ul>
              <li><a href="https://twitter.com/pantone_colors">every pantone color</a> twitter bot</li>
              <li>
                <a href="https://obliquestrategies.website/">obliquestrategies.website</a>
                <ul>
                  <li><a href="https://chrome.google.com/webstore/detail/oblique-strategies-tab/mgmdhihgmkhangpfokjdhfhjaiadpopd">chrome extension</a></li>
                  <li><a href="https://twitter.com/ObliqueBot/status/886236405118062592">twitter bot</a></li>
                </ul>
              </li>
              <li>
                <a href="https://chrome.google.com/webstore/detail/%CA%8D-wikipedia/icfadkjhpjekoifngfldhkkjakifokln"> ç-wikipedia</a> chrome extension
              </li>
              <li>
                <a href="https://prompty.design/">prompty.design</a> (a prompt scratch pad for GPT-3 and Stable Diffusion)
              </li>
            </ul>
          </li>
        </ul>
        <p>Or if none of that is enough (word, really?) or you have some other unanswered questions, <a href="mailto:sam@destroy.email">send me an email</a> or use one of the links below.</p>
      </section>
    </main>
    <Footer />
  </body>
</html>

<script>
  // external links should open in a new tab
  document.addEventListener("DOMContentLoaded", function() {
    const links = document.querySelectorAll("a");
  
    links.forEach((link) => {
      const href = link.getAttribute("href");
      const isExternal = href.startsWith("http") && !location.hostname.includes(href);
  
      if (isExternal) {
        link.setAttribute("target", "_blank");
        link.setAttribute("rel", "noopener noreferrer");
      }
    });
  });
</script>